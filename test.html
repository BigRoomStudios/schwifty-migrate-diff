<!doctype html>
<html>
  <head>
    <title>Tests &amp; Coverage</title>
    <script>
      headings = [];
    
      onload = function () {
          headings = document.querySelectorAll('h2');
          reset();
      };
    
      onscroll = function (e) {
          var heading = find(window.scrollY);
          if (!heading) {
            var current = document.querySelector('#menu a.active');
            if (current) {
              current.className = '';
            }
            return;
          }
          var links = document.querySelectorAll('#menu a')
                  , link;
    
          for (var i = 0, len = links.length; i < len; ++i) {
              link = links[i];
              link.className = link.getAttribute('href') == '#' + heading.id ? 'active' : '';
          }
      };
    
      function find (y) {
          var i = headings.length
                  , heading;
    
          while (i--) {
              heading = headings[i];
              if (y >= heading.offsetTop) {
                  return heading;
              }
          }
      }
    
      function toggle (className) {
    
          var elements = document.getElementsByClassName(className);
    
          for (var i = 0, il = elements.length; i < il; ++i) {
              var element = elements[i];
    
              if (element.classList.contains('hide')) {
                  element.classList.remove('hide');
                  element.classList.add('show');
              }
              else {
                  element.classList.remove('show');
                  element.classList.add('hide');
              }
          };
      }
    
      function reset () {
    
          var shownElements = document.getElementsByClassName('show');
          var filterElements = document.querySelectorAll('input[type=checkbox]');
    
          for (var i = 0, il = filterElements.length; i < il; ++i) {
              filterElements[i].checked = false;
          }
    
          // Check any filters with visible elements
          for (i = 0, il = shownElements.length; i < il; ++i) {
              var shownElement = shownElements[i];
              var classNames = shownElement.className.split(' ');
              for (var ci = 0, cl = classNames.length; ci < cl; ++ci){
                  var element = document.getElementById('show-' + classNames[ci]);
                  if (element) {
                      element.checked = true;
                  }
              }
          }
      };
    
      function filter (element) {
    
          toggle(element.value);
          reset();
      }
    </script>
    <style>
        body {
            font: 14px/1.6 Helvetica, Arial, sans-serif;
            margin: 0;
            color: #2c2c2c;
        }
    
        #tests, #coverage, #linting {
            padding: 60px;
        }
    
        h1 a:hover {
            text-decoration: none;
        }
    
        h2 {
            width: 80%;
            margin-top: 80px;
            margin-bottom: 0;
            font-weight: 100;
            letter-spacing: 1px;
        }
    
        ul {
            margin-top: 20px;
            padding: 0 15px;
            width: 100%;
        }
    
        ul li {
            float: left;
            width: 40%;
            margin-top: 5px;
            margin-right: 60px;
            list-style: none;
            padding: 5px 0;
            font-size: 12px;
        }
    
        #menu {
            position: fixed;
            font-size: 12px;
            overflow-y: auto;
            top: 0;
            right: 0;
            margin: 0;
            height: 100%;
            padding: 15px 15px;
            border-left: 1px solid #eee;
            background-color: #666;
            z-index: 1;
        }
    
        #menu::after {
            display: block;
            content: '';
            padding-top: 80px;
        }
    
        #menu li a {
            display: block;
            color: white;
            padding: 0 5px 0 35px;
            transition: background 300ms;
            text-decoration: none;
        }
    
        #menu li {
            position: relative;
            list-style: none;
        }
    
        #menu a:hover,
        #menu a.active {
            text-decoration: none;
            background: rgba(255, 255, 255, .4);
        }
    
        #menu li:hover .cov {
            opacity: 1;
        }
    
        #menu li .dirname {
            opacity: .60;
            padding-right: 2px;
        }
    
        #menu li .basename {
            opacity: 1;
        }
    
        #menu .cov, #menu .lint {
            background: rgba(0, 0, 0, .3);
            position: absolute;
            top: 0;
            font-size: 9px;
            text-align: center;
            opacity: .8;
            width: 22px;
            border-radius: 10px;
            padding: 2px 3px;
        }
    
        #files .stats:nth-child(2n) {
            display: inline-block;
            margin-top: 15px;
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 5px;
        }
    
        .stats div {
            float: left;
            padding: 0 5px;
        }
    
        .stats::after {
            display: block;
            content: '';
            clear: both;
        }
    
        .stats .sloc::after {
            content: ' SLOC';
            color: #b6b6b6;
        }
    
        .stats .percentage::after {
            content: ' coverage';
            color: #b6b6b6;
        }
    
        .stats .hits::before {
            content: '(';
            color: #b6b6b6;
        }
    
        .stats .hits::after {
            content: ' Covered';
            color: #b6b6b6;
        }
    
        .stats .misses::after {
            content: ' Not Covered)';
            color: #b6b6b6;
        }
    
        .stats .failures::after {
            content: ' Failures';
            color: #b6b6b6;
        }
    
        .stats .skipped::after {
            content: ' Skipped';
            color: #b6b6b6;
        }
    
        .stats .test-count::after {
            content: ' Tests';
            color: #b6b6b6;
        }
    
        .stats .duration::before {
            content: '(';
            color: #b6b6b6;
        }
    
        .stats .duration::after {
            content: ' ms)';
            color: #b6b6b6;
        }
    
        .high {
            color: #00d4b4;
        }
    
        .medium {
            color: #e87d0d;
        }
    
        .low {
            color: #d4081a;
        }
    
        .terrible {
            color: #d4081a;
            font-weight: bold;
        }
    
        #files table {
            width: 80%;
            margin-top: 10px;
            border-collapse: collapse;
            border: 1px solid #cbcbcb;
            color: #363636;
            border-radius: 3px;
        }
    
        #files thead {
            display: none;
        }
    
        table td.line,
        table td.lint,
        table td.hits {
            width: 20px;
            background: #eaeaea;
            text-align: right;
            font-size: 11px;
            padding: 0 10px;
            color: #949494;
            white-space: nowrap;
        }
    
        table td.hits {
            width: 10px;
            padding: 2px 5px;
            color: rgba(0, 0, 0, .2);
            background: #f0f0f0;
        }
    
        table td.sourcemaps {
            width: 1%;
            border-left: 1px solid #cbcbcb;
            padding: 0 10px;
        }
    
        table td.lint.empty {
            width: 0;
            padding: 0;
        }
    
        table td.lint > span {
            border-radius: 50%;
            width: 8px;
            height: 8px;
            display: inline-block;
            vertical-align: baseline;
        }
    
        table td.lint .errors {
            background-color: red;
        }
    
        table td.lint .warnings {
            background-color: orange;
        }
    
        td.sourcemaps.file {
            background: #f0f0f0;
        }
    
        tr.miss td.line,
        tr.miss td.hits {
            background: #e6c3c7;
        }
    
        tr.miss td {
            background: #f8d5d8;
        }
    
        td.source {
            padding-left: 15px;
            line-height: 15px;
            white-space: pre;
            font: 12px monaco, monospace;
        }
    
        td.source div {
            display: inline-block;
        }
    
        td.source div.true {
            background: #bae8bf;
        }
    
        td.source div.false {
            background: #e8e5ba;
        }
    
        td.source div.never {
            background: #f8d5d8;
        }
    
        #tests table {
            width: 80%;
            margin-top: 10px;
            border-collapse: collapse;
            border: 1px solid #cbcbcb;
            color: #363636;
            border-radius: 3px;
        }
    
        #tests thead {
            background: #F5F5F5;
        }
    
        #tests tr {
            border: 1px solid #ccc;
        }
    
        #tests td {
            padding-left: 8px;
            vertical-align: top;
        }
    
        #tests .success:nth-child(2n) {
            background: #F5F5F5;
        }
    
        #tests .failure {
            background: #FF9E9E;
        }
    
        #tests table .skipped {
            background: #AA82FF;
        }
    
        #tests .success {
            color: #949494;
        }
    
        #tests .failure .test-title {
            font-weight: bold;
            margin-top: 5px;
        }
    
        #tests .stack {
            margin-top: 4px;
            padding-left: 15px;
            margin-bottom: 12px;
            font: 12px monaco, monospace;
            white-space: pre;
            line-height: 15px;
        }
    
        .hide {
            position: absolute;
            left: -9999em;
        }
    
        .show {
            position: relative;
        }
    
        [data-tooltip] {
            position: relative;
        }
    
        [data-tooltip]:hover:before {
            border: solid;
            border-color: #333 transparent;
            border-width: 6px 6px 0 6px;
            bottom: 20px;
            content: "";
            left: 0;
            position: absolute;
            z-index: 99;
        }
    
        [data-tooltip]:hover:after {
            background: #333;
            background: rgba(0, 0, 0, .8);
            border-radius: 5px;
            bottom: 26px;
            color: #fff;
            left: -10px;
            padding: 5px 15px;
            position: absolute;
            z-index: 98;
            content: attr(data-tooltip);
            white-space: pre;
            text-align: left;
        }
    
        .line[data-tooltip]:hover:after {
            content: "Line number";
        }
    
        .hits[data-tooltip]:hover:after {
            content: "Number of hits";
        }
    
        .miss .source[data-tooltip]:hover:after {
            content: "Missed line";
        }
    
        .miss.true[data-tooltip]:hover:after {
            content: "Condition always true";
        }
    
        .miss.false[data-tooltip]:hover:after {
            content: "Condition always false";
        }
    
        .miss.never[data-tooltip]:hover:after {
            content: "Statement never reached";
        }
    
        .sourcemaps.file[data-tooltip]:hover:after {
            content: "Original file";
        }
    
        .sourcemaps.line[data-tooltip]:hover:after {
            content: "Original line";
        }
    
        .lint .errors[data-tooltip]:hover:after {
            content: "Linting errors:\A" attr(data-tooltip);
        }
    
        .lint .warnings[data-tooltip]:hover:after {
            content: "Linting warnings:\A" attr(data-tooltip);
        }
    
        #filters {
            width: 75%;
            margin-top: 25px;
        }
    
        #filters label {
            margin-right: 10px;
        }
    
        .lint-stats .lint-errors::after {
            content: ' linting errors';
            color: #b6b6b6;
        }
    
        .lint-stats .lint-warnings::after {
            content: ' linting warnings';
            color: #b6b6b6;
        }
    
        .lint-entry {
            color: #b6b6b6;
            float: none;
            padding: 0;
        }
    
        .lint-entry .level-ERROR {
            color: #d4081a;
        }
    
        .lint-entry .level-WARNING {
            color: #e87d0d;
        }
    </style>
  </head>
  <body>
    <div id="menu">
        <li><a href="#tests">Test Report</a></li>
        <li><a href="#coverage">Coverage Report</a></li>
        <li>
            <span class="cov high">91.37</span>
            <a href="#lib/index.js"><span class="dirname">lib/</span><span class="basename">index.js</span></a>
        </li>
        <li>
            <span class="cov high">100</span>
            <a href="#lib/mappings.js"><span class="dirname">lib/</span><span class="basename">mappings.js</span></a>
        </li>
        <li>
            <span class="cov high">100</span>
            <a href="#lib/schema.js"><span class="dirname">lib/</span><span class="basename">schema.js</span></a>
        </li>
        <li><a href="#linting">Linting Report</a></li>
        <li>
            <span class="lint"><span class="high">0</span> || <span class="low">1</span></span>
            <a href="#lint-lib/index.js">lib/index.js</a>
        </li>
        <li>
            <span class="lint"><span class="high">0</span> || <span class="low">1</span></span>
            <a href="#lint-lib/mappings.js">lib/mappings.js</a>
        </li>
        <li>
            <span class="lint"><span class="low">1</span> || <span class="high">0</span></span>
            <a href="#lint-test/index.js">test/index.js</a>
        </li>
        <li>
            <span class="lint"><span class="high">0</span> || <span class="low">1</span></span>
            <a href="#lint-test/utils/TestSuiteRunner.js">test/utils/TestSuiteRunner.js</a>
        </li>
    </div>
    <div id="tests">
      <h1>Test Report</h1>
      <div class="stats high">
          <div class="failures">0</div>
          <div class="skipped">0</div>
          <div class="test-count">10</div>
          <div class="duration">3685</div>
      </div>
      <div id="filters">
          <input type="checkbox" checked="" onchange="filter(this)" value="success" id="show-success">
          <label for="show-success">Show Success</label>
          <input type="checkbox" checked="" onchange="filter(this)" value="failure" id="show-failure">
          <label for="show-failure">Show Failure</label>
          <br>
          <input type="checkbox" checked="" onchange="filter(this)" value="SchwiftyMigration" id="show-SchwiftyMigration">
          <label for="show-SchwiftyMigration">SchwiftyMigration</label>
          <input type="checkbox" checked="" onchange="filter(this)" value="&quot;postgres_create&quot;_tests:" id="show-&quot;postgres_create&quot;_tests:">
          <label for="show-&quot;postgres_create&quot;_tests:">&quot;postgres create&quot; tests:</label>
          <input type="checkbox" checked="" onchange="filter(this)" value="&quot;postgres_alter&quot;_tests:" id="show-&quot;postgres_alter&quot;_tests:">
          <label for="show-&quot;postgres_alter&quot;_tests:">&quot;postgres alter&quot; tests:</label>
      </div>
      <table>
          <thead>
          <tr>
              <th>ID</th>
              <th>Title</th>
              <th>Duration (ms)</th>
          </tr>
          </thead>
          <tbody>
          <tr class="show SchwiftyMigration success">
              <td class="test-id">1</td>
              <td class="test-title">SchwiftyMigration throws if you give bad options
                  
              </td>
              <td class="test-duration">4</td>
          </tr>
          <tr class="show SchwiftyMigration success">
              <td class="test-id">2</td>
              <td class="test-title">SchwiftyMigration returns early if models are empty
                  
              </td>
              <td class="test-duration">1</td>
          </tr>
          <tr class="show SchwiftyMigration success">
              <td class="test-id">3</td>
              <td class="test-title">SchwiftyMigration accepts absolute and relative migration file paths
                  
              </td>
              <td class="test-duration">262</td>
          </tr>
          <tr class="show SchwiftyMigration success">
              <td class="test-id">4</td>
              <td class="test-title">SchwiftyMigration creates new tables and columns
                  
              </td>
              <td class="test-duration">44</td>
          </tr>
          <tr class="show SchwiftyMigration success">
              <td class="test-id">5</td>
              <td class="test-title">SchwiftyMigration alters tables
                  
              </td>
              <td class="test-duration">1</td>
          </tr>
          <tr class="show &quot;postgres_create&quot;_tests: success">
              <td class="test-id"></td>
              <td class="test-title">&quot;postgres create&quot; tests: Adds a table to the db when a new model is introduced
                  
              </td>
              <td class="test-duration">117</td>
          </tr>
          <tr class="show &quot;postgres_create&quot;_tests: success">
              <td class="test-id"></td>
              <td class="test-title">&quot;postgres create&quot; tests: Adds a join table to the db when two models have a join relation
                  
              </td>
              <td class="test-duration">97</td>
          </tr>
          <tr class="show &quot;postgres_create&quot;_tests: success">
              <td class="test-id"></td>
              <td class="test-title">&quot;postgres create&quot; tests: Adds a join table to the db when two models have a join relation
                  
              </td>
              <td class="test-duration">100</td>
          </tr>
          <tr class="show &quot;postgres_create&quot;_tests: success">
              <td class="test-id"></td>
              <td class="test-title">&quot;postgres create&quot; tests: Combines extras where the same join table is declared in multiple models
                  
              </td>
              <td class="test-duration">84</td>
          </tr>
          <tr class="show &quot;postgres_alter&quot;_tests: success">
              <td class="test-id"></td>
              <td class="test-title">&quot;postgres alter&quot; tests: Changes column types on existing tables
                  
              </td>
              <td class="test-duration">110</td>
          </tr>
          </tbody>
      </table>
    
    </div>    <div id="coverage">
        <h1>Code Coverage Report</h1>
        <div class="stats high">
            <div class="percentage">93.12%</div>
            <div class="sloc">523</div>
            <div class="hits">487</div>
            <div class="misses">36</div>
        </div>
        <div id="files">
            <div class="file">
                <h2 id="lib/index.js">lib/index.js</h2>
                <div class="stats high">
                    <div class="percentage">91.37%</div>
                    <div class="sloc">417</div>
                    <div class="hits">381</div>
                    <div class="misses">36</div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Line</th>
                            <th>Lint</th>
                            <th>Hits</th>
                            <th>Source</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hit">
                            <td class="line" data-tooltip>1</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">&#x27;use strict&#x27;;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>2</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>3</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const JsonDiffpatch &#x3D; require(&#x27;jsondiffpatch&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>4</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const Hoek &#x3D; require(&#x27;hoek&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>5</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const Joi &#x3D; require(&#x27;joi&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>6</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const Path &#x3D; require(&#x27;path&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>7</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const Items &#x3D; require(&#x27;items&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>8</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const Schema &#x3D; require(&#x27;./schema&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>9</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const Handlebars &#x3D; require(&#x27;handlebars&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>10</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const Fs &#x3D; require(&#x27;fs&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>11</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>12</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const { convertFuncs: { joi2Knex, db2ColumnCompiler, db2Knex }, ignoreColumns } &#x3D; require(&#x27;./mappings&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>13</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>14</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const internals &#x3D; {};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>15</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>16</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">exports.genMigrationFile &#x3D; (options, schwiftyMigrationNext) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>17</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>18</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    internals.schwiftyMigrationNext &#x3D; schwiftyMigrationNext;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>19</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>20</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>9</td>
                            <td class="source">    Joi.assert(options, Schema.options, &#x27;Bad options passed to schwifty-migration.&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>21</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>22</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>8</td>
                            <td class="source">    if (options.models.length &#x3D;&#x3D;&#x3D; 0) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>23</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">        return schwiftyMigrationNext();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>24</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>25</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>26</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    const userOptions &#x3D; Hoek.shallow(options);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>27</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    const { models, migrationsDir, knex } &#x3D; userOptions;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>28</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>29</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    const migrationGroup &#x3D; { models, migrationsDir, knex };</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>30</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>31</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // Grabbed from Schwifty&#x27;s migrator.js</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>32</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // Absolutize and normalize</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>33</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>34</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    migrationGroup.migrationsDir &#x3D; Path.isAbsolute(migrationGroup.migrationsDir) ?</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>35</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        Path.normalize(migrationGroup.migrationsDir) :</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>36</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        Path.join(process.cwd(), migrationGroup.migrationsDir);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>37</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>38</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // Grab join table info</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>39</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>40</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    const joinTables &#x3D; migrationGroup.models.reduce((collector, model) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>41</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>42</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // The joiSchema referenced above includes [&#x27;extras&#x27;]</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>43</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // defined in relationshipMappings. By default they&#x27;re set to Joi.any()</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>44</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>45</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // internals.getJoinTableInfo returns an object with schema:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>46</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // { tableName: &#x27;tableName&#x27;, joiSchema: Joi.object({...}) }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>47</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>48</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        return collector.concat(internals.getJoinTableInfo(model));</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>49</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>50</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    }, [])</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>51</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    .reduce((collector, joinTable) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>52</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>53</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // Dedupe the joinTables -- multiple models can reference the same joinTable,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>54</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // so we might have more than one entry for the same join table</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>55</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // across different models.</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>56</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>57</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        const { tableName, joiSchema } &#x3D; joinTable;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>58</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>59</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">        if (!collector[tableName]) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>60</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>61</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>3</td>
                            <td class="source">            collector[tableName] &#x3D; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>62</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                joiSchema,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>63</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                knexSchema: joi2Knex(joiSchema)</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>64</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            };</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>65</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>66</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        else {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>67</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>68</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // We&#x27;ve already stored this joinTable in the collector. So let&#x27;s</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>69</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // merge the schemas of that one and this one</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>70</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>71</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // This way you can specify an array of extras in one model&#x27;s relation and</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>72</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // a different set of extras on a different model</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>73</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>74</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // Object.assign the joiSchema and knexSchemas</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>75</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>76</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">            collector[tableName].joiSchema &#x3D; Object.assign(</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>77</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                {},</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>78</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                collector[tableName].joiSchema,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>79</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                joiSchema</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>80</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            );</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>81</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>82</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">            collector[tableName].knexSchema &#x3D; Object.assign(</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>83</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                {},</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>84</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                collector[tableName].knexSchema,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>85</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                joi2Knex(joiSchema)</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>86</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            );</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>87</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>88</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>89</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">        return collector;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>90</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>91</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    }, {});</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>92</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>93</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    const regularTables &#x3D; migrationGroup.models.reduce((collector, model) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>94</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>95</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        collector[model.tableName] &#x3D; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>96</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            joiSchema: model.joiSchema,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>97</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            knexSchema: joi2Knex(model.joiSchema)</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>98</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        };</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>99</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>100</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">        return collector;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>101</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>102</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    }, {});</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>103</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>104</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // Create tables collector, allTables</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>105</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>106</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    const allTables &#x3D; Object.assign({}, joinTables, regularTables);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>107</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>108</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    internals.diffTables(migrationGroup, joinTables, allTables, (_, tableDeltas) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>109</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>110</td>
                            <td class="lint">
                                <span class="warnings" data-tooltip="no-shadow - &#x27;_&#x27; is already declared in the upper scope."></span>
                            </td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        internals.diffColumns(migrationGroup, (_, columnDeltas) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>111</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>112</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // All finished diffing, time to make the migrationFiles</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>113</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>114</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // Handlebars helpers!</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>115</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>116</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            Handlebars.registerHelper(&#x27;someObjectPropsHaveValue&#x27;, (obj) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>117</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>118</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                // Can either be an object or an array</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>119</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>120</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                return Object.keys(obj).some((objKey) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>121</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>122</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    const currentProp &#x3D; obj[objKey];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>123</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>124</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>6</td>
                            <td class="source">                    if (Array.isArray(currentProp)) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>125</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>2</td>
                            <td class="source">                        return currentProp.length !&#x3D;&#x3D; 0;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>126</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>127</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">                    else if (typeof currentProp &#x3D;&#x3D;&#x3D; &#x27;object&#x27;) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>128</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>129</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>2</td>
                            <td class="source">                        return Object.keys(currentProp).length !&#x3D;&#x3D; 0;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>130</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>131</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>132</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>133</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>134</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">            Handlebars.registerHelper(&#x27;itemNotInArray&#x27;, (item, arr) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>135</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>136</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                return arr.indexOf(item) &#x3D;&#x3D;&#x3D; -1;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>137</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>138</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>139</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">            Handlebars.registerHelper(&#x27;keyFromObject&#x27;, (key, obj) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>140</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>141</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                return obj[key];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>142</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>143</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>144</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">            Handlebars.registerHelper(&#x27;indexFromArray&#x27;, (index, arr) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>145</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>146</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                return arr[index];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>147</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>148</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>149</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">            Handlebars.registerHelper(&#x27;objectKeys&#x27;, (obj) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>150</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>151</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div>                if (</div><div class="miss true" data-tooltip>typeof obj &#x3D;&#x3D;&#x3D; &#x27;object&#x27;</div><div>) {</div></td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>152</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>14</td>
                            <td class="source">                    return Object.keys(obj);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>153</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                }</td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>154</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                return [];</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>155</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>156</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>157</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">            Fs.readdirSync(&#x60;${__dirname}/hbs/partials/&#x60;)</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>158</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            .forEach((fileName) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>159</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>160</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                Handlebars.registerPartial(</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>161</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    fileName.split(&#x27;.hbs&#x27;)[0],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>162</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    String(Fs.readFileSync(&#x60;${__dirname}/hbs/partials/${fileName}&#x60;))</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>163</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                );</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>164</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>165</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>166</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">            const compiler &#x3D; Handlebars.compile(String(Fs.readFileSync(__dirname + &#x27;/hbs/migrationFileTemplate.hbs&#x27;)));</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>167</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">            const createdTables &#x3D; tableDeltas.tableDelta.create.concat(tableDeltas.joinTableDelta.create);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>168</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>169</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">            const migrationFileContents &#x3D; compiler({</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>170</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                allTables,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>171</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                createdTables,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>172</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                tableDeltas,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>173</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                columnDeltas</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>174</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>175</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>176</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">            migrationGroup.knex.migrate.make(userOptions.migrationName || &#x27;schwifty-migration&#x27;, {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>177</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                directory: migrationGroup.migrationsDir</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>178</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            })</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>179</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            .then(() &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>180</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>181</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                const migrationsDirFiles &#x3D; Fs.readdirSync(migrationsDir);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>182</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">                const justCreatedMigration &#x3D; migrationsDirFiles[migrationsDirFiles.length - 1];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>183</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">                const justCreatedMigrationPath &#x3D; Path.resolve(migrationsDir, justCreatedMigration);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>184</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">                Fs.writeFileSync(justCreatedMigrationPath, migrationFileContents);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>185</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>186</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div>                if (</div><div class="miss false" data-tooltip>userOptions.mode !&#x3D;&#x3D; &#x27;test&#x27;</div><div>) {</div></td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>187</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    console.log(&#x27;//////////////////////////&#x27;);</td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>188</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    console.log(&#x27;/////// Success! /////////&#x27;);</td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>189</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    console.log(&#x27;Generated new migration file:&#x27;);</td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>190</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    console.log(&#x27;&#x27;);</td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>191</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    console.log(justCreatedMigrationPath);</td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>192</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    console.log(&#x27;&#x27;);</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>193</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>194</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>195</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">                return schwiftyMigrationNext(null);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>196</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            })</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>197</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            .catch((err) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>198</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>199</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div>                </div><div class="miss never" data-tooltip>return schwiftyMigrationNext(err);</div></td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>200</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>201</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>202</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>203</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>204</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>205</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">internals.diffTables &#x3D; (migrationGroup, joinTables, allTables, cb) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>206</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>207</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // Diff the tables in the db with our models and joinTables</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>208</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>209</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    const { knex, migrationsDir } &#x3D; migrationGroup;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>210</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>211</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    const knexTableDeltaObject &#x3D; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>212</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        migrationsDir,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>213</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        tableDelta: {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>214</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            create: [],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>215</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            alter: {},</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>216</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            drop: []</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>217</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        },</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>218</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        joinTableDelta: {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>219</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            create: [],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>220</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            alter: {},</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>221</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            drop: []</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>222</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>223</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    };</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>224</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>225</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    /*</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>226</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        Grabbed this func from https://github.com/steven-ferguson/knex-cleaner/blob/master/lib/knex_tables.js</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>227</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        &#x60;knex-cleaner&#x60; project :+1:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>228</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>229</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        function getTablesNameSql(knex) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>230</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">          var client &#x3D; knex.client.dialect;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>231</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">          var databaseName &#x3D; knex.client.databaseName ||</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>232</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">          knex.client.connectionSettings.database;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>233</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>234</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">          switch(client) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>235</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            case &#x27;mysql&#x27;:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>236</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">              return &quot;SELECT TABLE_NAME FROM information_schema.tables &quot; +</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>237</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">              &quot;WHERE TABLE_SCHEMA &#x3D; &#x27;&quot; + databaseName + &quot;&#x27; &quot; +</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>238</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">              &quot;AND TABLE_TYPE &#x3D; &#x27;BASE TABLE&#x27;&quot;;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>239</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            case &#x27;postgresql&#x27;:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>240</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">              return &quot;SELECT tablename FROM pg_catalog.pg_tables&quot; +</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>241</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">              &quot; WHERE schemaname&#x3D;&#x27;public&#x27;;&quot;;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>242</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            case &#x27;sqlite3&#x27;:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>243</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">              return &quot;SELECT name FROM sqlite_master WHERE type&#x3D;&#x27;table&#x27;;&quot;;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>244</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            default:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>245</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">              throw new Error(&#x27;Could not get the sql to select table names from client: &#x27; +</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>246</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">              client);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>247</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">          }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>248</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>249</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>250</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        function getTableNames(knex, options) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>251</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">          options &#x3D; _.defaults(typeof options !&#x3D;&#x3D; &#x27;undefined&#x27; ? options : {}, DefaultOptions);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>252</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>253</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">          return knex.raw(getTablesNameSql(knex))</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>254</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            .then(function(resp) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>255</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">              return getSqlRows(knex, resp)</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>256</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                .map(function(table) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>257</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                  return table[Object.keys(table)[0]];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>258</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                })</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>259</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                .filter(function(tableName) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>260</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                  return !_.contains(options.ignoreTables, tableName);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>261</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>262</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>263</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>264</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    */</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>265</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>266</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // TODO get a list of the tables in the knex here, and compare against</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>267</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // allTables to see if tables in the DB need to be deleted.</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>268</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>269</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // Use something similar to this block that I accidentally made for columns</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>270</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // D&#x27;oh!</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>271</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    /*</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>272</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        Promise.all(allDrops.map((tableName) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>273</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>274</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            return new Promise((resolve, reject) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>275</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>276</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                internals.getColumnsForTable(knex, tableName)</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>277</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                .then((dbSchema) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>278</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>279</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    modelDeltaObject.drop.push({</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>280</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                        tableName: tableName,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>281</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                        columns: dbSchema</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>282</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>283</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    resolve();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>284</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                })</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>285</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                .catch((err) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>286</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>287</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    reject(err);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>288</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                })</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>289</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>290</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        }))</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>291</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        .then(() &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>292</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>293</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            knexTableDeltaObject.tableDelta.drop.push(modelDeltaObject);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>294</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            next();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>295</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>296</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    */</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>297</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>298</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    Items.serial(Object.keys(allTables), (tableName, tableNext) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>299</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>300</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // Ping the db for existence of each table</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>301</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>302</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        knex(tableName).select(knex.raw(&#x27;1&#x27;)).asCallback((err) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>303</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>304</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            if (err) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>305</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>306</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                // This error can only be that the table is not there.</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>307</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                // If there was a connection issue it would have cropped up earlier.</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>308</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>309</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>12</td>
                            <td class="source">                if (Object.keys(joinTables).indexOf(tableName) !&#x3D;&#x3D; -1) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>310</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>3</td>
                            <td class="source">                    knexTableDeltaObject.joinTableDelta.create.push(tableName);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>311</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>312</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                else {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>313</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>9</td>
                            <td class="source">                    knexTableDeltaObject.tableDelta.create.push(tableName);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>314</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>315</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>316</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>317</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>13</td>
                            <td class="source">            tableNext();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>318</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>319</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    },</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>320</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    () &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>321</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>322</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // no errors</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>323</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>324</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        cb(null, knexTableDeltaObject);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>325</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>326</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>327</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>328</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">internals.diffColumns &#x3D; (migrationGroup, cb) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>329</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>330</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // Now let&#x27;s diff our model schemas with what&#x27;s in the db</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>331</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // - convert model schema to knex schema</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>332</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // - compile the derived knex schema using knex&#x27;s columnCompiler</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>333</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // &#x27;columnCompiler&#x27; contains a universal set of types that it then</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>334</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    // converts into specific db types</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>335</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>336</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    const { knex, models } &#x3D; migrationGroup;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>337</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>338</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    const knexColumnDeltaObject &#x3D; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>339</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        changes: []</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>340</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    };</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>341</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>342</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">    Items.serial(models, (model, modelNext) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>343</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>344</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        const modelName &#x3D; model.tableName;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>345</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>346</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">        const modelDeltaObject &#x3D; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>347</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            model: modelName,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>348</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            create: [],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>349</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            alter: {},</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>350</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            drop: []</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>351</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        };</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>352</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>353</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // It&#x27;s about to go down</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>354</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>355</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">        const modelKnexSchema &#x3D; joi2Knex(model.joiSchema);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>356</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">        const tmpTableBuilder &#x3D; knex.client.tableBuilder(&#x27;create&#x27;, &#x27;schemaMap&#x27;, () &#x3D;&gt; {});</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>357</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">        const modelKnex2ColumnCompilerSchema &#x3D; Object.keys(modelKnexSchema).reduce((collector, columnName) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>358</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>359</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            const tmpColumnBuilder &#x3D; knex.client.columnBuilder(tmpTableBuilder, modelKnexSchema[columnName], []);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>360</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>45</td>
                            <td class="source">            const tmpColumnCompiler &#x3D; knex.client.columnCompiler(tmpTableBuilder, tmpColumnBuilder);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>361</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>45</td>
                            <td class="source">            const columnType &#x3D; tmpColumnCompiler.getColumnType();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>362</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>363</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // columnType.split(&#x27;(&#x27;)[0] is specific for varchar values. Knex appends (255) to this columnType</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>364</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // if the varchar length can go up to 255</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>365</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // Remove the output (255) specified lengths from varchar types.</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>366</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // At this time we only care about the column types</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>367</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>45</td>
                            <td class="source">            collector[columnName] &#x3D; columnType.split(&#x27;(&#x27;)[0]; // To the right of this paren is specified the length if available (e.g. (255))</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>368</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>45</td>
                            <td class="source">            return collector;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>369</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        }, {});</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>370</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>371</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">        internals.getColumnsForTable(knex, modelName)</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>372</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        .then((dbSchema) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>373</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>374</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            const dbColsToConvert &#x3D; Object.keys(dbSchema)</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>375</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            .filter((colName) &#x3D;&gt; ignoreColumns.indexOf(dbSchema[colName]) &#x3D;&#x3D;&#x3D; -1);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>376</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>377</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">            const db2ColumnCompilerSchema &#x3D; dbColsToConvert.reduce((collector, columnName) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>378</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>379</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                const currentColumn &#x3D; dbSchema[columnName];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>380</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>5</td>
                            <td class="source">                collector[columnName] &#x3D; db2ColumnCompiler(currentColumn);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>381</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>5</td>
                            <td class="source">                return collector;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>382</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            }, {});</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>383</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>384</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // The big diff!</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>385</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>386</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">            const delta &#x3D; JsonDiffpatch.diff(db2ColumnCompilerSchema, modelKnex2ColumnCompilerSchema);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>387</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>388</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div>            if (</div><div class="miss true" data-tooltip>delta</div><div>) {</div></td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>389</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>390</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">                Object.keys(delta).forEach((key) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>391</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>392</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    switch (internals.getJsonDiffpatchChangeType(delta[key])) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>393</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>394</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                        case &#x27;create&#x27;:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>395</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>40</td>
                            <td class="source">                            modelDeltaObject.create.push(key);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>396</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>40</td>
                            <td class="source">                            break;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>397</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                        case &#x27;alter&#x27;:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>398</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>2</td>
                            <td class="source">                            modelDeltaObject.alter[key] &#x3D; [db2Knex(delta[key][0]), db2Knex(delta[key][1])];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>399</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>2</td>
                            <td class="source">                            break;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>400</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                        case &#x27;drop&#x27;:</td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>401</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                            modelDeltaObject.drop.push({</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>402</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                                columnName: key,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>403</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                                columnType: db2Knex(dbSchema[key])</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>404</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                            });</td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>405</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                            break;</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>406</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>407</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>408</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>409</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">                knexColumnDeltaObject.changes.push(modelDeltaObject);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>410</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>411</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>412</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">            modelNext();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>413</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        })</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>414</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        .catch((err) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>415</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>416</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div>            </div><div class="miss never" data-tooltip>return cb(err);</div></td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>417</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>418</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    },</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>419</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    (err) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>420</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>421</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div>        if (</div><div class="miss false" data-tooltip>err</div><div>) {</div></td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>422</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>            return cb(err);</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>423</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>424</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>425</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">        console.log(&#x27;knexColumnDeltaObject&#x27;, knexColumnDeltaObject.changes[0].alter);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>426</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>427</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>7</td>
                            <td class="source">        return cb(null, knexColumnDeltaObject);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>428</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>429</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>430</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>431</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>432</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">internals.getColumnsForTable &#x3D; (knex, tableName) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>433</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>434</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    let resolve;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>435</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>436</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">    const p &#x3D; new Promise((res, rej) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>437</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>438</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        resolve &#x3D; res;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>439</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>440</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>441</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">    knex.table(tableName).columnInfo()</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>442</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    .then((dbSchema) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>443</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>444</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        const formattedDbSchema &#x3D; {};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>445</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>446</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">        Object.keys(dbSchema)</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>447</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        .forEach((columnName) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>448</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>449</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            const columnSchema &#x3D; dbSchema[columnName].type;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>450</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>5</td>
                            <td class="source">            delete columnSchema.defaultValue;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>451</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>5</td>
                            <td class="source">            formattedDbSchema[columnName] &#x3D; columnSchema;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>452</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>453</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>454</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">        return resolve(formattedDbSchema);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>455</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>456</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>457</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">    return p;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>458</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>459</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>460</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>461</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">internals.diffJson &#x3D; (d1, d2) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>462</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>463</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div>    </div><div class="miss never" data-tooltip>const changesByKey &#x3D; {</div></td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>464</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        create: [],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>465</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        alter: {},</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>466</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        drop: []</td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>467</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div class="miss never" data-tooltip>    };</div></td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>468</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>469</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>    const delta &#x3D; JsonDiffpatch.diff(d1, d2);</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>470</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>471</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>    if (delta) {</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>472</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>473</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>        Object.keys(delta).forEach((key) &#x3D;&gt; {</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>474</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>475</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div>            </div><div class="miss never" data-tooltip>switch (internals.getJsonDiffpatchChangeType(delta[key])) {</div></td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>476</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>477</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                case &#x27;create&#x27;:</td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>478</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    changesByKey.create.push(key);</td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>479</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    break;</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>480</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                case &#x27;alter&#x27;:</td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>481</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    changesByKey.alter[key] &#x3D; [delta[key][0], delta[key][1]];</td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>482</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    break;</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>483</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                case &#x27;drop&#x27;:</td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>484</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    changesByKey.drop.push(key);</td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>485</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                    break;</td>
                            </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>486</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div class="miss never" data-tooltip>            }</div></td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>487</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>488</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>489</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>490</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>    return changesByKey;</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>491</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>492</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>493</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>494</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">internals.getJoinTableInfo &#x3D; (model) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>495</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>496</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    const joinTables &#x3D; [];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>497</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>498</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>11</td>
                            <td class="source">    if (model.relationMappings) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>499</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>500</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>6</td>
                            <td class="source">        Object.keys(model.relationMappings).forEach((relationName) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>501</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>502</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            const relation &#x3D; model.relationMappings[relationName];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>503</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>504</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>6</td>
                            <td class="source">            if (!relation.join.through) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>505</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>2</td>
                            <td class="source">                return;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>506</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>507</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>508</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">            const joinTableFrom &#x3D; relation.join.through.from.split(&#x27;.&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>509</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">            const joinTableTo &#x3D; relation.join.through.to.split(&#x27;.&#x27;);</td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>510</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div>            const relationExtra &#x3D; relation.join.through.extra || (relation.join.through.modelClass &amp;&amp; </div><div class="miss true" data-tooltip>relation.join.through.modelClass.getJoiSchema()</div><div>) || Joi.object({});</div></td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>511</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>512</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">            let joiSchema;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>513</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="chunks">
                                <td class="line" data-tooltip>514</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source"><div>            if (</div><div class="miss true" data-tooltip>relationExtra</div><div>) {</div></td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>515</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>516</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">                if (relationExtra.isJoi &#x3D;&#x3D;&#x3D; true) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>517</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>518</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>2</td>
                            <td class="source">                    joiSchema &#x3D; relationExtra;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>519</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>520</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                else {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>521</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>2</td>
                            <td class="source">                    joiSchema &#x3D; Joi.object(relationExtra.reduce((collector, extra) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>522</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>523</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                        // Here, setting the default type for extras defined in</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>524</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                        // relationMappings to be Joi.any();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>525</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>526</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                        const extraSchema &#x3D; {};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>527</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">                        extraSchema[extra] &#x3D; Joi.any();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>528</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>529</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">                        return Object.assign({}, collector, extraSchema);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>530</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    }, {}));</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>531</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>532</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>533</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>534</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">            const toFromColumns &#x3D; {};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>535</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">            toFromColumns[joinTableFrom[1]] &#x3D; Joi.any();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>536</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">            toFromColumns[joinTableTo[1]] &#x3D; Joi.any();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>537</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>538</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">            joiSchema &#x3D; joiSchema.keys(toFromColumns);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>539</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>540</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">            joinTables.push({</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>541</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                tableName: joinTableFrom[0], // TODO: Check how objection does this check</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>542</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                joiSchema</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>543</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>544</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>545</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>546</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>6</td>
                            <td class="source">        return joinTables;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>547</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>548</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>549</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>5</td>
                            <td class="source">    return [];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>550</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>551</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>552</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">internals.getJsonDiffpatchChangeType &#x3D; (change) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>553</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>554</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    switch (change.length) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>555</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>556</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        case 1:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>557</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>558</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // Additions only got 1 thing to say, I&#x27;m here yo!</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>559</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>560</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>40</td>
                            <td class="source">            return &#x27;create&#x27;;</td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>561</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>            break;</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>562</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>563</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        case 2:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>564</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>565</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>2</td>
                            <td class="source">            return &#x27;alter&#x27;;</td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>566</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>            break;</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>567</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>568</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        case 3:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>569</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>570</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // Just a lil extra validation before saying it&#x27;s a drop</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>571</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>572</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>            if (change[1] &#x3D;&#x3D;&#x3D; 0 &amp;&amp; change[2] &#x3D;&#x3D;&#x3D; 0) {</td>
                            </tr>
                            <tr class="miss">
                                <td class="line" data-tooltip>573</td>
                                <td class="lint empty"></td>
                                <td class="hits" data-tooltip></td>
                                <td class="source" data-tooltip>                return &#x27;drop&#x27;;</td>
                            </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>574</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>575</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>576</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // This case only happens if an item moved indexes in an array.</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>577</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // Won&#x27;t ever happen based on how we&#x27;re diffing</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>578</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>579</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // return &#x27;index moved&#x27;;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>580</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // break;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>581</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>582</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>583</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="file">
                <h2 id="lib/mappings.js">lib/mappings.js</h2>
                <div class="stats high">
                    <div class="percentage">100%</div>
                    <div class="sloc">97</div>
                    <div class="hits">97</div>
                    <div class="misses">0</div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Line</th>
                            <th>Lint</th>
                            <th>Hits</th>
                            <th>Source</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hit">
                            <td class="line" data-tooltip>1</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">&#x27;use strict&#x27;;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>2</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>3</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const Hoek &#x3D; require(&#x27;hoek&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>4</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>5</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const internals &#x3D; {};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>6</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>7</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const maps &#x3D; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>8</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    joiKnexMap: {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>9</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        string        : &#x27;string&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>10</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        boolean       : &#x27;boolean&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>11</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        date          : &#x27;date&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>12</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        binary        : &#x27;binary&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>13</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        number        : &#x27;float&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>14</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        numberInteger : &#x27;integer&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>15</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        array         : &#x27;json&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>16</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        object        : &#x27;json&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>17</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        any           : &#x27;string&#x27;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>18</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    },</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>19</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    columnCompilerAliasMap: {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>20</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>21</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // Aliases across different database types</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>22</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>23</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        varchar   : [&#x27;character varying&#x27;, &#x27;varchar&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>24</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        boolean   : [&#x27;boolean&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>25</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        integer   : [&#x27;integer&#x27;, &#x27;int&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>26</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        date      : [&#x27;date&#x27;, &#x27;datetime&#x27;, &#x27;timestamp with time zone&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>27</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        timestamp : [&#x27;timestamp&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>28</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        time      : [&#x27;time&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>29</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        json      : [&#x27;json&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>30</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        text      : [&#x27;text&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>31</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        float     : [&#x27;float&#x27;, &#x27;real&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>32</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        bigint    : [&#x27;bigint&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>33</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        tinyint   : [&#x27;tinyint&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>34</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        decimal   : [&#x27;decimal&#x27;],</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>35</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        blob      : [&#x27;blob&#x27;]</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>36</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    },</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>37</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    columnCompilerKnexMap: {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>38</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        varchar   : &#x27;string&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>39</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        boolean   : &#x27;boolean&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>40</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        integer   : &#x27;integer&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>41</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        date      : &#x27;date&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>42</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        timestamp : &#x27;timestamp&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>43</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        time      : &#x27;timestamp&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>44</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        json      : &#x27;json&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>45</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        text      : &#x27;string&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>46</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        float     : &#x27;number&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>47</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        bigint    : &#x27;number&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>48</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        tinyint   : &#x27;number&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>49</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        decimal   : &#x27;number&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>50</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        blob      : &#x27;binary&#x27;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>51</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>52</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>53</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>54</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const ignoreColumns &#x3D; [</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>55</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    &#x27;tsvector&#x27;,</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>56</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    &#x27;tsv&#x27;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>57</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>58</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>59</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const convertFuncs &#x3D; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>60</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    joi2Knex: (joiSchema) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>61</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>62</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        const joiSchemaDescription &#x3D; joiSchema.describe();</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>63</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>64</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>26</td>
                            <td class="source">        const columns &#x3D; Object.keys(joiSchemaDescription.children).reduce((collector, schemaKey) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>65</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>66</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            const child &#x3D; joiSchemaDescription.children[schemaKey];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>67</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>102</td>
                            <td class="source">            const childType &#x3D; child.type;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>68</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>69</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>102</td>
                            <td class="source">            let columnType;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>70</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>71</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>102</td>
                            <td class="source">            switch (childType) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>72</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>73</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                case &#x27;number&#x27;:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>74</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>75</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>40</td>
                            <td class="source">                    const rulesIncludeInteger &#x3D; child.rules &amp;&amp; child.rules.some((rule) &#x3D;&gt; rule.name &#x3D;&#x3D;&#x3D; &#x27;integer&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>76</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>77</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>40</td>
                            <td class="source">                    if (rulesIncludeInteger) {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>78</td>
                            <td class="lint">
                                <span class="warnings" data-tooltip="dot-notation - &#x5b;&quot;numberInteger&quot;&#x5d; is better written in dot notation."></span>
                            </td>
                            <td class="hits" data-tooltip>34</td>
                            <td class="source">                        columnType &#x3D; maps.joiKnexMap[&#x27;numberInteger&#x27;];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>79</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>80</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    else {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>81</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>6</td>
                            <td class="source">                        columnType &#x3D; maps.joiKnexMap[childType];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>82</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>83</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>40</td>
                            <td class="source">                    break;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>84</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">                default:</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>85</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>62</td>
                            <td class="source">                    columnType &#x3D; maps.joiKnexMap[childType];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>86</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>87</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>88</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            // Rage quit if there&#x27;s a column type not in the mappings list</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>89</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>102</td>
                            <td class="source">            Hoek.assert(columnType, &#x60;Schema type &quot;${childType}&quot; not supported. Please fix mappings.js&#x60;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>90</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>91</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>102</td>
                            <td class="source">            collector[schemaKey] &#x3D; columnType;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>92</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>102</td>
                            <td class="source">            return collector;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>93</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>94</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        }, {});</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>95</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>96</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>26</td>
                            <td class="source">        return columns;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>97</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    },</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>98</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    db2Knex: (dbType) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>99</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>100</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        return convertFuncs.columnCompiler2Knex(convertFuncs.db2ColumnCompiler(dbType));</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>101</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    },</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>102</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    db2ColumnCompiler: (dbType) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>103</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>104</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        const foundType &#x3D; Object.keys(maps.columnCompilerAliasMap).find((columnCompilerType) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>105</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>106</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">            return maps.columnCompilerAliasMap[columnCompilerType].indexOf(dbType) !&#x3D;&#x3D; -1;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>107</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        });</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>108</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>109</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // Rage quit if there&#x27;s a column type not in the mappings list</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>110</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>9</td>
                            <td class="source">        Hoek.assert(typeof foundType !&#x3D;&#x3D; &#x27;undefined&#x27;, &#x60;Database type &quot;${dbType}&quot; not supported. Please fix mappings.js&#x60;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>111</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>112</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>9</td>
                            <td class="source">        return foundType;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>113</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    },</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>114</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    columnCompiler2Knex: (columnCompilerType) &#x3D;&gt; {</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>115</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>116</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        const foundType &#x3D; maps.columnCompilerKnexMap[columnCompilerType];</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>117</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>118</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">        // Rage quit if there&#x27;s a column type not in the mappings list</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>119</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">        Hoek.assert(foundType, &#x60;Column Compiler type &quot;${columnCompilerType}&quot; not supported. Please fix mappings.js&#x60;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>120</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>121</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>4</td>
                            <td class="source">        return foundType;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>122</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    }</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>123</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">};</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>124</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>125</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">module.exports &#x3D; { maps, convertFuncs, ignoreColumns };</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>126</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="file">
                <h2 id="lib/schema.js">lib/schema.js</h2>
                <div class="stats high">
                    <div class="percentage">100%</div>
                    <div class="sloc">9</div>
                    <div class="hits">9</div>
                    <div class="misses">0</div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Line</th>
                            <th>Lint</th>
                            <th>Hits</th>
                            <th>Source</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hit">
                            <td class="line" data-tooltip>1</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">&#x27;use strict&#x27;;</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>2</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>3</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">const Joi &#x3D; require(&#x27;joi&#x27;);</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>4</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>5</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip>1</td>
                            <td class="source">exports.options &#x3D; Joi.object({</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>6</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    models: Joi.array().items(Joi.func()), // Array of ES6 Classes</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>7</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    migrationsDir: Joi.string().required(),</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>8</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    knex: Joi.func().required(), // ES6 Class</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>9</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    mode: Joi.string().allow(&#x27;create&#x27;, &#x27;alter&#x27;, &#x27;test&#x27;).default(&#x27;create&#x27;),</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>10</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">    migrationName: Joi.string().default(&#x27;schwifty-migration&#x27;)</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>11</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source">});</td>
                        </tr>
                        <tr class="hit">
                            <td class="line" data-tooltip>12</td>
                            <td class="lint empty"></td>
                            <td class="hits" data-tooltip></td>
                            <td class="source"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>    <div id="linting">
        <h1>Linting Report</h1>
            <div class="lint-stats">
                <span class="lint-errors low">1</span>
                <span class="lint-warnings low">3</span>
            </div>
            <div class="lint-files">
                <div class="lint-file">
                    <h2 id="lint-lib/index.js">lib/index.js</h2>
                    <ul>
                        <li class="lint-entry">L110 - <span class="level-WARNING">WARNING</span> - no-shadow - &#x27;_&#x27; is already declared in the upper scope.</li>
                    </ul>
                </div>            <div class="lint-file">
                    <h2 id="lint-lib/mappings.js">lib/mappings.js</h2>
                    <ul>
                        <li class="lint-entry">L78 - <span class="level-WARNING">WARNING</span> - dot-notation - &#x5b;&quot;numberInteger&quot;&#x5d; is better written in dot notation.</li>
                    </ul>
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                    <h2 id="lint-test/index.js">test/index.js</h2>
                    <ul>
                        <li class="lint-entry">L46 - <span class="level-ERROR">ERROR</span> - semi - Missing semicolon.</li>
                    </ul>
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                </div>            <div class="lint-file">
                    <h2 id="lint-test/utils/TestSuiteRunner.js">test/utils/TestSuiteRunner.js</h2>
                    <ul>
                        <li class="lint-entry">L77 - <span class="level-WARNING">WARNING</span> - no-shadow - &#x27;session&#x27; is already declared in the upper scope.</li>
                    </ul>
                </div>        </div>
    </div>  </body>
</html>
